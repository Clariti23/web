<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Swerve Finance | DeFi.SURF</title>

  <!-- Custom fonts for this template-->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

  <!-- Custom styles for this template-->
  <link href="css/sb-admin-2.min.css" rel="stylesheet">

  <!-- Resources -->
<script src="https://cdn.amcharts.com/lib/4/core.js"></script>
<script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
<script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>
<script src="https://cdn.amcharts.com/lib/4/themes/dark.js"></script>
<script src="https://cdn.amcharts.com/lib/4/plugins/rangeSelector.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>

<!-- Bootstrap core JavaScript-->
<script src="vendor/jquery/jquery.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript">
  function numberWithCommas(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}
</script>
<!-- Chart code -->
<style>

.loading.line:after {
    content: "/\Aâ€“\A\\\A|";
    text-align: center;
    -webkit-animation: spin 1s steps(4) infinite;
    animation: spin 1s steps(4) infinite;
}

#durationpie,#distribution_active {
  width: 100%;
  height: 300px;
}

body {
  font-family: 'Montserrat';
}

#refs {
  width: 100%;
  height: 600px;
}

#refseth {
  width: 100%;
  height: 600px;
}

#top20,#top10ve {
  width: 100%;
  height: 400px;
}

#radar {
  width: 100%;
  height: 400px;
}

#mchart,#testchart {
  width: 100%;
  height: 600px;
}

#wchart, #nlchart {
  width: 100%;
  height: 400px;
}
</style>

<script>

WebFont.load({
google: {
  families: ["Montserrat:500","Montserrat:700"]
},
active: function() {
  console.log("All set!");
}
});

//start data parsing
var json;
var volumes;
var topholders;
var vl_top;
var vl_distribution;
var vl_swrv_locks;
var vl_swrv_locks_7d;
var vl_veswrv_top;
var vl_distribution_active;
var covid_total_timeline;
var deadweight;
$.when(
$.getJSON("json/tvl_swerve.json", function(data) {
  json = data;
  }),
$.getJSON("json/vol_swerve.json", function(data) {
        volumes = data;
    }),
$.getJSON("json/swerve_topholders.json", function(data) {
        topholders = data;
    }),
$.getJSON("json/swrv_top_10_active.json", function(data) {
        vl_top = data;
    }),
$.getJSON("json/swrv_locks_distribution.json", function(data) {
        vl_distribution = data;
    }),
$.getJSON("json/swrv_top_10_veswrv.json", function(data) {
        vl_veswrv_top = data;
    }),
$.getJSON("json/swrv_distribution_active.json", function(data) {
        vl_distribution_active = data;
    }),
$.getJSON("json/swrv_locks.json", function(data) {
        covid_total_timeline = data;
    }),
$.getJSON("json/swrv_locks_deadweight.json", function(data) {
        document.getElementById("deadweight").innerHTML = "" + numberWithCommas(data[0].deadweight.toFixed(0)) + "</span>"; 
        deadweight =  data[0].deadweight.toFixed(0);
    })
).then(function() {

var last = covid_total_timeline[covid_total_timeline.length-1];
vl_swrv_locks_7d = covid_total_timeline.slice(covid_total_timeline.length-7,covid_total_timeline.length);
document.getElementById("activeveswrv").innerHTML = "" + numberWithCommas(last.cumulative_veswrv_active.toFixed(0)-deadweight) + "</span>";
var activevotes = last.cumulative_veswrv_active.toFixed(0)-deadweight;
document.getElementById("quorum15").innerHTML = "" + (0.15*last.cumulative_veswrv_active/activevotes*100).toFixed(2) + " %</span>";
document.getElementById("quorum30").innerHTML = "" + (0.30*last.cumulative_veswrv_active/activevotes*100).toFixed(2) + " %</span>";
document.getElementById("totallocks").innerHTML = "" + numberWithCommas(last.cumulative_total_locks) + "</span>";  
document.getElementById("veswrvlocked").innerHTML = "" + numberWithCommas(last.cumulative_veswrv_active.toFixed(0)) + "</span>";  
document.getElementById("swrvlocked").innerHTML = "" + numberWithCommas(last.cumulative_swrv_active) + "</span>";  
$.getJSON("json/swerve_cg.json", function(price){
var vllocked = (last.cumulative_swrv_active *price.usd).toFixed(0);
document.getElementById("valuelocked").innerHTML = "$ " + numberWithCommas(vllocked) + "</span>"; 
})

am4core.ready(function() {

// Themes begin
am4core.useTheme(am4themes_animated);
am4core.useTheme(am4themes_dark);
// Themes end


//WEEKLY
var wchart = am4core.create("wchart", am4charts.XYChart);
//wchart.dateFormatter.inputDateFormat = "yyyy-mm-dd";
wchart.numberFormatter.numberFormat = "#a";
wchart.numberFormatter.bigNumberPrefixes = [
  { "number": 1e+3, "suffix": "K" },
  { "number": 1e+6, "suffix": "M" },
  { "number": 1e+9, "suffix": "B" }
];
// Add data
wchart.data = [{
  "date": vl_swrv_locks_7d[0].day,
  "volume": vl_swrv_locks_7d[0].swrv_total_locked,
  "color": wchart.colors.next()
}, {
  "date": vl_swrv_locks_7d[1].day,
  "volume": vl_swrv_locks_7d[1].swrv_total_locked,
  "color": wchart.colors.next()
}, {
  "date": vl_swrv_locks_7d[2].day,
  "volume": vl_swrv_locks_7d[2].swrv_total_locked,
  "color": wchart.colors.next()
}, {
  "date": vl_swrv_locks_7d[3].day,
  "volume": vl_swrv_locks_7d[3].swrv_total_locked,
  "color": wchart.colors.next()
}, {
  "date": vl_swrv_locks_7d[4].day,
  "volume": vl_swrv_locks_7d[4].swrv_total_locked,
  "color": wchart.colors.next()
}, {
  "date": vl_swrv_locks_7d[5].day,
  "volume": vl_swrv_locks_7d[5].swrv_total_locked,
  "color": wchart.colors.next()
}, {
  "date": vl_swrv_locks_7d[6].day,
  "volume": vl_swrv_locks_7d[6].swrv_total_locked,
  "color": wchart.colors.next()
}];

var categoryAxis = wchart.yAxes.push(new am4charts.DateAxis());
categoryAxis.dataFields.category = "date";
categoryAxis.renderer.inversed = true;
categoryAxis.renderer.grid.template.location = 0;

var valueAxis = wchart.xAxes.push(new am4charts.ValueAxis());
valueAxis.renderer.minGridDistance = 50;
valueAxis.title.text = "SWRV";
valueAxis.min = 0;

var columnSeries = wchart.series.push(new am4charts.ColumnSeries());
//columnSeries.dataFields.categoryY = "date";
columnSeries.dataFields.dateY = "date";
columnSeries.dataFields.valueX = "volume";
//columnSeries.dataFields.openValueX = "startTime";
columnSeries.calculatePercent = true;
columnSeries.columns.template.tooltipText = "[bold]{categoryY}[/]\n {valueX} SWRV";

var columnTemplate = columnSeries.columns.template;
columnTemplate.strokeOpacity = 0;
columnTemplate.propertyFields.fill = "color";
columnTemplate.height = am4core.percent(100);

//WEEKLY
var wchart = am4core.create("nlchart", am4charts.XYChart);
//wchart.dateFormatter.inputDateFormat = "yyyy-mm-dd";
wchart.numberFormatter.numberFormat = "#a";
wchart.numberFormatter.bigNumberPrefixes = [
  { "number": 1e+3, "suffix": "K" },
  { "number": 1e+6, "suffix": "M" },
  { "number": 1e+9, "suffix": "B" }
];
// Add data
wchart.data = [{
  "date": vl_swrv_locks_7d[0].day,
  "volume": vl_swrv_locks_7d[0].total_locks,
  "color": wchart.colors.next()
}, {
  "date": vl_swrv_locks_7d[1].day,
  "volume": vl_swrv_locks_7d[1].total_locks,
  "color": wchart.colors.next()
}, {
  "date": vl_swrv_locks_7d[2].day,
  "volume": vl_swrv_locks_7d[2].total_locks,
  "color": wchart.colors.next()
}, {
  "date": vl_swrv_locks_7d[3].day,
  "volume": vl_swrv_locks_7d[3].total_locks,
  "color": wchart.colors.next()
}, {
  "date": vl_swrv_locks_7d[4].day,
  "volume": vl_swrv_locks_7d[4].total_locks,
  "color": wchart.colors.next()
}, {
  "date": vl_swrv_locks_7d[5].day,
  "volume": vl_swrv_locks_7d[5].total_locks,
  "color": wchart.colors.next()
}, {
  "date": vl_swrv_locks_7d[6].day,
  "volume": vl_swrv_locks_7d[6].total_locks,
  "color": wchart.colors.next()
}];

var categoryAxis = wchart.yAxes.push(new am4charts.DateAxis());
categoryAxis.dataFields.category = "date";
categoryAxis.renderer.inversed = true;
categoryAxis.renderer.grid.template.location = 0;

var valueAxis = wchart.xAxes.push(new am4charts.ValueAxis());
valueAxis.renderer.minGridDistance = 50;
valueAxis.title.text = "Number of Locks";
valueAxis.min = 0;

var columnSeries = wchart.series.push(new am4charts.ColumnSeries());
//columnSeries.dataFields.categoryY = "date";
columnSeries.dataFields.dateY = "date";
columnSeries.dataFields.valueX = "volume";
//columnSeries.dataFields.openValueX = "startTime";
columnSeries.calculatePercent = true;
columnSeries.columns.template.tooltipText = "[bold]{categoryY}[/]\n {valueX} Locks";

var columnTemplate = columnSeries.columns.template;
columnTemplate.strokeOpacity = 0;
columnTemplate.propertyFields.fill = "color";
columnTemplate.height = am4core.percent(100);

//TOP 10 Active Lockers
var topchart = am4core.create("top20", am4charts.XYChart);
topchart.numberFormatter.numberFormat = "#a";
topchart.numberFormatter.bigNumberPrefixes = [
  { "number": 1e+3, "suffix": "K" },
  { "number": 1e+6, "suffix": "M" },
  { "number": 1e+9, "suffix": "B" }
];

topchart.data = vl_top;

var topcategoryAxis = topchart.xAxes.push(new am4charts.CategoryAxis());
topcategoryAxis.renderer.grid.template.location = 0;
topcategoryAxis.dataFields.category = "Address";
topcategoryAxis.renderer.minGridDistance = 10;
topcategoryAxis.renderer.grid.template.location = 0.5;
topcategoryAxis.renderer.grid.template.strokeDasharray = "1,3";
topcategoryAxis.renderer.labels.template.rotation = -90;
topcategoryAxis.renderer.labels.template.horizontalCenter = "left";
topcategoryAxis.renderer.labels.template.location = 0.5;
topcategoryAxis.renderer.labels.template.disabled = true;

topcategoryAxis.renderer.labels.template.adapter.add("dx", function(dx, target) {
    return -target.maxRight / 2;
})

var topvalueAxis = topchart.yAxes.push(new am4charts.ValueAxis());
topvalueAxis.tooltip.disabled = true;
topvalueAxis.renderer.ticks.template.disabled = true;
topvalueAxis.renderer.axisFills.template.disabled = true;
topvalueAxis.title.text = "SWRV";

var topseries = topchart.series.push(new am4charts.ColumnSeries());
topseries.dataFields.categoryX = "Address";
topseries.dataFields.valueY = "swrv";
topseries.dataFields.days = "days";
topseries.tooltipText = `Locked: [bold]{valueY.value.formatNumber('###,###,###,###.00')}[/] SWRV
Days: [bold]{days}[/]`;
topseries.sequencedInterpolation = true;
topseries.fillOpacity = 0;
topseries.strokeOpacity = 1;
topseries.strokeDashArray = "1,3";
topseries.columns.template.width = 0.01;
topseries.tooltip.pointerOrientation = "vertical";

var topbullet = topseries.bullets.create(am4charts.CircleBullet);

topchart.cursor = new am4charts.XYCursor();

topchart.scrollbarX = new am4core.Scrollbar();
//topchart.scrollbarY = new am4core.Scrollbar();
// Enable export
topchart.exporting.menu = new am4core.ExportMenu();
topchart.exporting.menu.align = "left";

//END TOP 10

//TOP 10 Active Lockers veSWRV
var topvechart = am4core.create("top10ve", am4charts.XYChart);
topvechart.numberFormatter.numberFormat = "#a";
topvechart.numberFormatter.bigNumberPrefixes = [
  { "number": 1e+3, "suffix": "K" },
  { "number": 1e+6, "suffix": "M" },
  { "number": 1e+9, "suffix": "B" }
];

topvechart.data = vl_veswrv_top;

var topvecategoryAxis = topvechart.xAxes.push(new am4charts.CategoryAxis());
topvecategoryAxis.renderer.grid.template.location = 0;
topvecategoryAxis.dataFields.category = "Address";
topvecategoryAxis.renderer.minGridDistance = 10;
topvecategoryAxis.renderer.grid.template.location = 0.5;
topvecategoryAxis.renderer.grid.template.strokeDasharray = "1,3";
topvecategoryAxis.renderer.labels.template.rotation = -90;
topvecategoryAxis.renderer.labels.template.horizontalCenter = "left";
topvecategoryAxis.renderer.labels.template.location = 0.5;
topvecategoryAxis.renderer.labels.template.disabled = true;

topvecategoryAxis.renderer.labels.template.adapter.add("dx", function(dx, target) {
    return -target.maxRight / 2;
})

var topvevalueAxis = topvechart.yAxes.push(new am4charts.ValueAxis());
topvevalueAxis.tooltip.disabled = true;
topvevalueAxis.renderer.ticks.template.disabled = true;
topvevalueAxis.renderer.axisFills.template.disabled = true;
topvevalueAxis.title.text = "veSWRV";

var topveseries = topvechart.series.push(new am4charts.ColumnSeries());
topveseries.dataFields.categoryX = "Address";
topveseries.dataFields.valueY = "veswrv";
topveseries.dataFields.days = "days";
topveseries.tooltipText = `Locked: [bold]{valueY.value.formatNumber('###,###,###,###.00')}[/] veSWRV
Days: [bold]{days}[/]`;
topveseries.sequencedInterpolation = true;
topveseries.fillOpacity = 0;
topveseries.strokeOpacity = 1;
topveseries.strokeDashArray = "1,3";
topveseries.columns.template.width = 0.01;
topveseries.tooltip.pointerOrientation = "vertical";

var topvebullet = topveseries.bullets.create(am4charts.CircleBullet);

topvechart.cursor = new am4charts.XYCursor();

topvechart.scrollbarX = new am4core.Scrollbar();
//topchart.scrollbarY = new am4core.Scrollbar();
// Enable export
topvechart.exporting.menu = new am4core.ExportMenu();
topvechart.exporting.menu.align = "left";

//END TOP 10 veSWRV


//Pie Chart Distribution

var chart = am4core.create("durationpie", am4charts.PieChart3D);
chart.hiddenState.properties.opacity = 0; // this creates initial fade-in

chart.legend = new am4charts.Legend();

chart.data = [
  {
    asset: "< 1 Year",
    value: vl_distribution[0].locks
  },
  {
    asset: "1-2 Years",
    value: vl_distribution[1].locks
  },
  {
    asset: "2-3 Years",
    value: vl_distribution[2].locks
  },
  {
    asset: "3-4 Years",
    value: vl_distribution[3].locks
  }
];

var series = chart.series.push(new am4charts.PieSeries3D());
series.dataFields.value = "value";
series.dataFields.category = "asset";
//series.ticks.template.disabled = true;
series.labels.template.text = "{category}";
series.slices.template.tooltipHTML = "{category}<br><span style='font-size:14px'><b>{value.value.formatNumber('###,###,###,###.')}</b> Locks ({value.percent.formatNumber('##.00')}%)</span>";
//end pie chart

//Distribution Active

var chart = am4core.create("distribution_active", am4charts.PieChart3D);
chart.hiddenState.properties.opacity = 0; // this creates initial fade-in

chart.legend = new am4charts.Legend();

chart.data = [
  {
    asset: "< 1 Year",
    value: vl_distribution_active[0].locks
  },
  {
    asset: "1-2 Years",
    value: vl_distribution_active[1].locks
  },
  {
    asset: "2-3 Years",
    value: vl_distribution_active[2].locks
  },
  {
    asset: "3-4 Years",
    value: vl_distribution_active[3].locks
  }
];

var series = chart.series.push(new am4charts.PieSeries3D());
series.dataFields.value = "value";
series.dataFields.category = "asset";
//series.ticks.template.disabled = true;
series.labels.template.text = "{category}";
series.slices.template.tooltipHTML = "{category}<br><span style='font-size:14px'><b>{value.value.formatNumber('###,###,###,###.')}</b> Locks ({value.percent.formatNumber('##.00')}%)</span>";
//end pie chart

//NEW TEST
  //////////////////////////////////////////////////////////////////////////////
  // NEW TEST
  //////////////////////////////////////////////////////////////////////////////



    var numberFormatter = new am4core.NumberFormatter();

  var backgroundColor = am4core.color("#1e2128");
  var activeColor = am4core.color("#84F8E6");
  var totalColor = am4core.color("#7D66D7");
  var expiredColor = am4core.color("#6794DC");
  var activelocksColor = am4core.color("#84F8E6");
  var totallocksColor = am4core.color("#7D66D7");
  var expiredlocksColor = am4core.color("#6794DC");
  var activeswrvColor = am4core.color("#84F8E6");
  var totalswrvColor = am4core.color("#7D66D7");
  var expiredswrvColor = am4core.color("#6794DC");
  var activeveswrvColor = am4core.color("#84F8E6");
  var totalveswrvColor = am4core.color("#7D66D7");
  var expiredveswrvColor = am4core.color("#6794DC");

  // for an easier access by key
  var colors = { activelocks: activelocksColor, totallocks: totallocksColor, expiredlocks: expiredlocksColor, activeswrv: activeswrvColor, totalswrv: totalswrvColor, expiredswrv: expiredswrvColor, activeveswrv: activeveswrvColor, totalveswrv: totalveswrvColor, expiredveswrv: expiredveswrvColor };

  var countryColor = am4core.color("#3b3b3b");
  var countryStrokeColor = am4core.color("#000000");
  var buttonStrokeColor = am4core.color("#ffffff");
  var countryHoverColor = am4core.color("#1b1b1b");
  var activeCountryColor = am4core.color("#0f0f0f");

  var currentIndex;
  var currentCountry = "India";

  // last date of the data DATE ISSUE HERE
  var lastDate = new Date(covid_total_timeline[covid_total_timeline.length-1].day);
  var currentDate = lastDate;
  //var lastDate = "2020-4-17";

  var countryDataTimeout;

  var currentType;

  var currentTypeName;

  var sliderAnimation;

  //////////////////////////////////////////////////////////////////////////////
  // PREPARE DATA
  //////////////////////////////////////////////////////////////////////////////



  // calculated active cases in world data (active = confirmed - recovered)
  for (var i = 0; i < covid_total_timeline.length; i++) {
    var di = covid_total_timeline[i];
    di.activelocks = di.cumulative_locks_active;
    di.totallocks = di.cumulative_total_locks;
    di.expiredlocks = di.cumulative_locks_expired;
    di.activeswrv = di.cumulative_swrv_active;
    di.totalswrv = di.cumulative_swrv_total;
    di.expiredswrv = di.cumulative_swrv_expired;
    di.activeveswrv = di.cumulative_veswrv_active;
    di.totalveswrv = di.cumulative_veswrv_total;
    di.expiredveswrv = di.cumulative_veswrv_expired;

  }


  // END OF DATA

  //////////////////////////////////////////////////////////////////////////////
  // LAYOUT & CHARTS
  //////////////////////////////////////////////////////////////////////////////

  // main container
  // https://www.amcharts.com/docs/v4/concepts/svg-engine/containers/
  var container = am4core.create("mchart", am4core.Container);
  container.width = am4core.percent(100);
  container.height = am4core.percent(100);

  container.tooltip = new am4core.Tooltip();
  container.tooltip.background.fill = am4core.color("#000000");
  container.tooltip.background.stroke = activeColor;
  container.tooltip.fontSize = "0.9em";
  container.tooltip.getFillFromObject = false;
  container.tooltip.getStrokeFromObject = false;

  // buttons & chart container
  var buttonsAndChartContainer = container.createChild(am4core.Container);
  buttonsAndChartContainer.layout = "vertical";
  buttonsAndChartContainer.height = am4core.percent(100); // make this bigger if you want more space for the chart
  buttonsAndChartContainer.width = am4core.percent(100);

  // country name and buttons container
  var nameAndButtonsContainer = buttonsAndChartContainer.createChild(am4core.Container)
  nameAndButtonsContainer.width = am4core.percent(100);
  nameAndButtonsContainer.padding(0, 10, 5, 20);
  nameAndButtonsContainer.layout = "horizontal";


  // buttons container (active/confirmed/recovered/deaths)
  var buttonsContainer = nameAndButtonsContainer.createChild(am4core.Container);
  buttonsContainer.layout = "grid";
  buttonsContainer.width = am4core.percent(100);
  buttonsContainer.x = 10;
  buttonsContainer.contentAlign = "left";
  buttonsContainer.fontSize = "0.65em";

  // Chart & slider container
  var chartAndSliderContainer = buttonsAndChartContainer.createChild(am4core.Container);
  chartAndSliderContainer.layout = "vertical";
  chartAndSliderContainer.height = am4core.percent(100);
  chartAndSliderContainer.width = am4core.percent(100);
  chartAndSliderContainer.background = new am4core.RoundedRectangle();
  chartAndSliderContainer.background.fill = am4core.color("#000000");
  chartAndSliderContainer.background.cornerRadius(30, 30, 0, 0)
  chartAndSliderContainer.background.fillOpacity = 0.25;
  chartAndSliderContainer.paddingTop = 30;
  chartAndSliderContainer.paddingBottom = 0;

  // Slider container
  var sliderContainer = chartAndSliderContainer.createChild(am4core.Container);
  sliderContainer.width = am4core.percent(100);
  sliderContainer.padding(0, 15, 15, 10);
  sliderContainer.layout = "horizontal";

  var slider = sliderContainer.createChild(am4core.Slider);
  slider.width = am4core.percent(100);
  slider.valign = "middle";
  slider.background.opacity = 0.4;
  slider.opacity = 0.7;
  slider.background.fill = am4core.color("#ffffff");
  slider.marginLeft = 20;
  slider.marginRight = 35;
  slider.height = 15;
  slider.start = 1;


  // what to do when slider is dragged
  slider.events.on("rangechanged", function(event) {
    var index = Math.round((covid_total_timeline.length - 1) * slider.start);
    updateTotals(index);
  })
  // stop animation if dragged
  slider.startGrip.events.on("drag", () => {
    stop();
    if (sliderAnimation) {
      sliderAnimation.setProgress(slider.start);
    }
  });

  // make slider grip look like play button
  //slider.startGrip.background.fill = playButton.background.fill;
  slider.startGrip.background.strokeOpacity = 0;
  slider.startGrip.icon.stroke = am4core.color("#ffffff");
  //slider.startGrip.background.states.copyFrom(playButton.background.states)

  // CHART
  // https://www.amcharts.com/docs/v4/chart-types/xy-chart/
  var lineChart = chartAndSliderContainer.createChild(am4charts.XYChart);
  lineChart.fontSize = "0.8em";
  lineChart.paddingRight = 30;
  lineChart.paddingLeft = 30;
  lineChart.maskBullets = false;
  lineChart.zoomOutButton.disabled = true;
  lineChart.paddingBottom = 5;
  lineChart.paddingTop = 3;

  // make a copy of data as we will be modifying it
  lineChart.data = covid_total_timeline;
  // date axis
  // https://www.amcharts.com/docs/v4/concepts/axes/date-axis/
  var dateAxis = lineChart.xAxes.push(new am4charts.DateAxis());
  dateAxis.renderer.minGridDistance = 50;
  dateAxis.renderer.grid.template.stroke = am4core.color("#000000");
  dateAxis.renderer.grid.template.strokeOpacity = 0.25;
  dateAxis.max = lastDate.getTime() + am4core.time.getDuration("day", 5);
  dateAxis.tooltip.label.fontSize = "0.8em";
  dateAxis.tooltip.background.fill = activeColor;
  dateAxis.tooltip.background.stroke = activeColor;
  dateAxis.renderer.labels.template.fill = am4core.color("#ffffff");
  
  dateAxis.renderer.labels.template.adapter.add("fillOpacity", function(fillOpacity, target){
      return dateAxis.valueToPosition(target.dataItem.value) + 0.1;
  })

  // value axis
  // https://www.amcharts.com/docs/v4/concepts/axes/value-axis/
  var valueAxis = lineChart.yAxes.push(new am4charts.ValueAxis());
  valueAxis.renderer.opposite = true;
  valueAxis.interpolationDuration = 3000;
  valueAxis.renderer.grid.template.stroke = am4core.color("#000000");
  valueAxis.renderer.grid.template.strokeOpacity = 0.25;
  valueAxis.renderer.minGridDistance = 30;
  valueAxis.renderer.maxLabelPosition = 0.98;
  //valueAxis.renderer.baseGrid.disabled = true;
  valueAxis.tooltip.disabled = true;
  valueAxis.extraMax = 0.05;
  valueAxis.maxPrecision = 0;
  valueAxis.renderer.inside = true;
  valueAxis.renderer.labels.template.verticalCenter = "bottom";
  valueAxis.renderer.labels.template.fill = am4core.color("#ffffff");
  valueAxis.renderer.labels.template.padding(2, 2, 2, 2);
  valueAxis.adapter.add("max", function(max, target) {
    if (max < 5) {
      max = 5
    }
    return max;
  })

  valueAxis.adapter.add("min", function(min, target) {
    if (!seriesTypeSwitch.isActive) {
      if (min < 0) {
        min = 0;
      }
    }
    return min;
  })

  // cursor
  // https://www.amcharts.com/docs/v4/concepts/chart-cursor/
  lineChart.cursor = new am4charts.XYCursor();
  lineChart.cursor.maxTooltipDistance = 0;
  lineChart.cursor.behavior = "none"; // set zoomX for a zooming possibility
  lineChart.cursor.lineY.disabled = true;
  lineChart.cursor.lineX.stroke = activeColor;
  lineChart.cursor.xAxis = dateAxis;

  // legend
  // https://www.amcharts.com/docs/v4/concepts/legend/  
  lineChart.legend = new am4charts.Legend();
  lineChart.legend.parent = lineChart.plotContainer;
  lineChart.legend.labels.template.fill = am4core.color("#ffffff");
  lineChart.legend.markers.template.height = 8;
  lineChart.legend.contentAlign = "left";
  lineChart.legend.position = "absolute";
  lineChart.legend.layout="vertical";
  lineChart.legend.x = 0;
  lineChart.legend.y=0;
  lineChart.legend.fontSize = "11px";
  lineChart.legend.itemContainers.template.valign = "middle";
  var legendDown = false;
  lineChart.legend.itemContainers.template.events.on("down", function() {
    legendDown = true;
  })
  lineChart.legend.itemContainers.template.events.on("up", function() {
    setTimeout(function() {
      legendDown = false;
    }, 100)
  })


  var seriesTypeSwitch = lineChart.legend.createChild(am4core.SwitchButton);
  seriesTypeSwitch.leftLabel.text = "totals";
  seriesTypeSwitch.rightLabel.text = "day change"
  seriesTypeSwitch.leftLabel.fill = am4core.color("#ffffff");
  seriesTypeSwitch.rightLabel.fill = am4core.color("#ffffff");

  seriesTypeSwitch.events.on("down", function() {
    legendDown = true;
  })
  seriesTypeSwitch.events.on("up", function() {
    setTimeout(function() {
      legendDown = false;
    }, 100)
  })

  seriesTypeSwitch.events.on("toggled", function() {
    if (seriesTypeSwitch.isActive) {
      if (!columnSeries) {
        createColumnSeries();
      }

      for (var key in columnSeries) {
       columnSeries[key].hide();
      }

      for (var key in series) {
        series[key].hiddenInLegend = true;
        series[key].hide();
      }

      columnSeries[currentType].show();
    }
    else {
      for (var key in columnSeries) {
        columnSeries[key].hiddenInLegend = true;
        columnSeries[key].hide();
      }

      for (var key in series) {
        series[key].hiddenInLegend = false;
        series[key].hide();
      }

      series[currentType].show();

    }
  })

  function updateColumnsFill() {
    columnSeries.active.columns.each(function(column) {
      if (column.dataItem.values.valueY.previousChange < 0) {
        column.fillOpacity = 0;
        column.strokeOpacity = 0.6;
      }
      else {
        column.fillOpacity = 0.6;
        column.strokeOpacity = 0;
      }
    })
  }


  // create series
  var activelocksSeries = addSeries("activelocks", activeColor);
  // active series is visible initially
  activelocksSeries.tooltip.disabled = true;
  activelocksSeries.hidden = false;
  var expiredlocksSeries = addSeries("expiredlocks", expiredColor);
  var totallocksSeries = addSeries("totallocks", totalColor);
  var activeswrvSeries = addSeries("activeswrv", activeColor);
  var expiredswrvSeries = addSeries("expiredswrv", expiredColor);
  var totalswrvSeries = addSeries("totalswrv", totalColor);
  var activeveswrvSeries = addSeries("activeveswrv", activeColor);
  var expiredveswrvSeries = addSeries("expiredveswrv", expiredColor);
  var totalveswrvSeries = addSeries("totalveswrv", totalColor);

  var series = { activelocks: activelocksSeries, totallocks: totallocksSeries, expiredlocks: expiredlocksSeries, activeswrv: activeswrvSeries, totalswrv: totalswrvSeries, expiredswrv: expiredswrvSeries, activeveswrv: activeveswrvSeries, totalveswrv: totalveswrvSeries, expiredveswrv: expiredveswrvSeries };
  // add series
  function addSeries(name, color) {
    var series = lineChart.series.push(new am4charts.LineSeries())
    switch(name){
      case "totallocks":
      series.dataFields.valueY = "cumulative_total_locks";
      series.legendSettings.labelText = "[bold {color}]Total # Locks[/]";
      break;
      case "activelocks":
      series.dataFields.valueY = "cumulative_locks_active";
      series.legendSettings.labelText = "[bold {color}]Active # Locks[/]";
      break;
      case "expiredlocks":
      series.dataFields.valueY = "cumulative_locks_expired";
      series.legendSettings.labelText = "[bold {color}]Expired # Locks[/]";
      break;
      case "totalswrv":
      series.dataFields.valueY = "cumulative_swrv_total";
      series.legendSettings.labelText = "[bold {color}]Total SWRV Locks[/]";
      break;
      case "activeswrv":
      series.dataFields.valueY = "cumulative_swrv_active";
      series.legendSettings.labelText = "[bold {color}]Active SWRV Locks[/]";
      break;
      case "expiredswrv":
      series.dataFields.valueY = "cumulative_swrv_expired";
      series.legendSettings.labelText = "[bold {color}]Expired SWRV Locks[/]";
      break;
      case "totalveswrv":
      series.dataFields.valueY = "cumulative_veswrv_total";
      series.legendSettings.labelText = "[bold {color}]Total veSWRV[/]";
      break;
      case "activeveswrv":
      series.dataFields.valueY = "cumulative_veswrv_active";
      series.legendSettings.labelText = "[bold {color}]Active veSWRV[/]";
      break;
      case "expiredveswrv":
      series.dataFields.valueY = "cumulative_veswrv_expired";
      series.legendSettings.labelText = "[bold {color}]Expired veSWRV[/]";
      break;
      default:
      series.dataFields.valueY = name;
      break;
    }
    series.dataFields.dateX = "day";
    series.name = capitalizeFirstLetter(name);
    series.strokeOpacity = 0.6;
    series.stroke = color;
    series.fill = color;
    series.maskBullets = false;
    series.minBulletDistance = 10;
    series.hidden = true;
    series.hideTooltipWhileZooming = true;


    // series bullet
    var bullet = series.bullets.push(new am4charts.CircleBullet());

    // only needed to pass it to circle
    var bulletHoverState = bullet.states.create("hover");
    bullet.setStateOnChildren = true;

    bullet.circle.fillOpacity = 1;
    bullet.circle.fill = backgroundColor;
    bullet.circle.radius = 2;

    var circleHoverState = bullet.circle.states.create("hover");
    circleHoverState.properties.fillOpacity = 1;
    circleHoverState.properties.fill = color;
    circleHoverState.properties.scale = 1.4;

    // tooltip setup
    series.tooltip.pointerOrientation = "down";
    series.tooltip.getStrokeFromObject = true;
    series.tooltip.getFillFromObject = false;
    series.tooltip.background.fillOpacity = 0.2;
    series.tooltip.background.fill = am4core.color("#000000");
    series.tooltip.dy = -4;
    series.tooltip.fontSize = "0.8em";
        switch(name){
      case "totallocks":
      series.tooltipText = "Total Locks: {valueY}";
      break;
      case "activelocks":
      series.tooltipText = "Active Locks: {valueY}";
      break;
      case "expiredlocks":
      series.tooltipText = "Expired Locks: {valueY}";
      break;
      case "totalswrv":
      series.tooltipText = "Total SWRV: {valueY}";
      break;
      case "activeswrv":
      series.tooltipText = "Active SWRV: {valueY}";
      break;
      case "expiredswrv":
      series.tooltipText = "Expired SWRV: {valueY}";
      break;
      case "totalveswrv":
      series.tooltipText = "Total veSWRV: {valueY}";
      break;
      case "activeveswrv":
      series.tooltipText = "Active veSWRV: {valueY}";
      break;
      case "expiredveswrv":
      series.tooltipText = "Expired veSWRV: {valueY}";
      break;
      default:
      sseries.tooltipText = "{name}: {valueY}";
      break;
    }

    return series;
  }


  var series = { activelocks: activelocksSeries, totallocks: totallocksSeries, expiredlocks: expiredlocksSeries, activeswrv: activeswrvSeries, totalswrv: totalswrvSeries, expiredswrv: expiredswrvSeries, activeveswrv: activeveswrvSeries, totalveswrv: totalveswrvSeries, expiredveswrv: expiredveswrvSeries };

  var columnSeries;

  function createColumnSeries() {
    columnSeries = {}
    columnSeries.activelocks = addColumnSeries("activelocks", activeColor);
    columnSeries.activelocks.events.on("validated", function() {
      //updateColumnsFill();
    })

    columnSeries.expiredlocks = addColumnSeries("expiredlocks", expiredColor);
    columnSeries.totallocks = addColumnSeries("totallocks", totalColor);
    columnSeries.activeswrv = addColumnSeries("activeswrv", activeColor);
    columnSeries.expiredswrv = addColumnSeries("expiredswrv", expiredColor);
    columnSeries.totalswrv = addColumnSeries("totalswrv", totalColor);
    columnSeries.activeveswrv = addColumnSeries("activeveswrv", activeColor);
    columnSeries.expiredveswrv = addColumnSeries("expiredveswrv", expiredColor);
    columnSeries.totalveswrv = addColumnSeries("totalveswrv", totalColor);
  }

  // add series
  function addColumnSeries(name, color) {
    var series = lineChart.series.push(new am4charts.ColumnSeries())
        //var series = lineChart.series.push(new am4charts.LineSeries())
    switch(name){
      case "totallocks":
      series.dataFields.valueY = "cumulative_total_locks";
      break;
      case "activelocks":
      series.dataFields.valueY = "cumulative_locks_active";
      break;
      case "expiredlocks":
      series.dataFields.valueY = "cumulative_locks_expired";
      break;
      case "totalswrv":
      series.dataFields.valueY = "cumulative_swrv_total";
      break;
      case "activeswrv":
      series.dataFields.valueY = "cumulative_swrv_active";
      break;
      case "expiredswrv":
      series.dataFields.valueY = "cumulative_swrv_expired";
      break;
      case "totalveswrv":
      series.dataFields.valueY = "cumulative_veswrv_total";
      break;
      case "activeveswrv":
      series.dataFields.valueY = "cumulative_veswrv_active";
      break;
      case "expiredveswrv":
      series.dataFields.valueY = "cumulative_veswrv_expired";
      break;
      default:
      series.dataFields.valueY = name;
      break;
    }
    series.dataFields.valueYShow = "previousChange";
    series.dataFields.dateX = "day";
    series.name = capitalizeFirstLetter(name);
    series.hidden = true;
    series.stroke = color;
    series.fill = color;
    series.columns.template.fillOpacity = 0.6;
    series.columns.template.strokeOpacity = 0;
    series.hideTooltipWhileZooming = true;
    series.clustered = false;
    series.hiddenInLegend = true;
    series.columns.template.width = am4core.percent(50);

    // tooltip setup
    series.tooltip.pointerOrientation = "down";
    series.tooltip.getStrokeFromObject = true;
    series.tooltip.getFillFromObject = false;
    series.tooltip.background.fillOpacity = 0.2;
    series.tooltip.background.fill = am4core.color("#000000");
    series.tooltip.fontSize = "0.8em";
    series.tooltipText = "{name}: {valueY.previousChange.formatNumber('+#,###|#,###|0')}";

    return series;
  }


  lineChart.plotContainer.events.on("up", function() {
    if (!legendDown) {
      slider.start = lineChart.cursor.xPosition * ((dateAxis.max - dateAxis.min) / (lastDate.getTime() - dateAxis.min));
    }
  })


  // data warning label
  var label = lineChart.plotContainer.createChild(am4core.Label);
  //label.text = "Current day stats may be incomplete until states submit their data.";
  label.fill = am4core.color("#ffffff");
  label.fontSize = "0.8em";
  label.paddingBottom = 4;
  label.opacity = 0.5;
  label.align = "right";
  label.horizontalCenter = "right";
  label.verticalCenter = "bottom";

  // BUTTONS
  // create buttons
  var activeButton = addButton("activelocks", activeColor);
  var expiredButton = addButton("expiredlocks", expiredColor);
  var totalButton = addButton("totallocks", totalColor);
  var activeswrvButton = addButton("activeswrv", activeColor);
  var expiredswrvButton = addButton("expiredswrv", expiredColor);
  var totalswrvButton = addButton("totalswrv", totalColor);
  var activeveswrvButton = addButton("activeveswrv", activeColor);
  var expiredveswrvButton = addButton("expiredveswrv", expiredColor);
  var totalveswrvButton = addButton("totalveswrv", totalColor);

  var buttons = { activelocks: activeButton, totallocks: totalButton, expiredlocks: expiredButton, activeswrv: activeswrvButton, totalswrv: totalswrvButton, expiredswrv: expiredswrvButton, activeveswrv: activeveswrvButton, totalveswrv: totalveswrvButton, expiredveswrv: expiredveswrvButton  };

  // add button
  function addButton(name, color) {
    var button = buttonsContainer.createChild(am4core.Button)
    button.label.valign = "middle"
    button.label.fill = am4core.color("#ffffff");
    //button.label.fontSize = "11px";
    button.background.cornerRadius(30, 30, 30, 30);
    button.background.strokeOpacity = 0.3
    button.background.fillOpacity = 0;
    button.background.stroke = buttonStrokeColor;
    button.background.padding(2, 3, 2, 3);
    button.states.create("active");
    button.setStateOnChildren = true;

    var activeHoverState = button.background.states.create("hoverActive");
    activeHoverState.properties.fillOpacity = 0;

    var circle = new am4core.Circle();
    circle.radius = 8;
    circle.fillOpacity = 0.3;
    circle.fill = buttonStrokeColor;
    circle.strokeOpacity = 0;
    circle.valign = "middle";
    circle.marginRight = 5;
    button.icon = circle;

    // save name to dummy data for later use
    button.dummyData = name;

    var circleActiveState = circle.states.create("active");
    circleActiveState.properties.fill = color;
    circleActiveState.properties.fillOpacity = 0.5;

    button.events.on("hit", handleButtonClick);

    return button;
  }

  // handle button clikc
  function handleButtonClick(event) {
    // we saved name to dummy data
    changeDataType(event.target.dummyData);
  }

  // change data type (active/confirmed/recovered/deaths)
  function changeDataType(name) {
    currentType = name;
    currentTypeName = name;
    if (name != "deaths") {
      currentTypeName += " cases";
    }
    // make button active
    var activeButton = buttons[name];
    activeButton.isActive = true;
    // make other buttons inactive
    for (var key in buttons) {
      if (buttons[key] != activeButton) {
        buttons[key].isActive = false;
      }
    }


    dateAxis.tooltip.background.fill = colors[name];
    dateAxis.tooltip.background.stroke = colors[name];
    lineChart.cursor.lineX.stroke = colors[name];

    // show series
    if (seriesTypeSwitch.isActive) {
      var currentSeries = columnSeries[name];
      currentSeries.show();
      // hide other series
      for (var key in columnSeries) {
        if (columnSeries[key] != currentSeries) {
          columnSeries[key].hide();
        }
      }
    }
    else {
      var currentSeries = series[name];
      currentSeries.show();
      // hide other series
      for (var key in series) {
        if (series[key] != currentSeries) {
          series[key].hide();
        }
      }
    }

  }



  function updateSeriesTooltip() {

    var position = dateAxis.dateToPosition(currentDate);
    position = dateAxis.toGlobalPosition(position);
    var x = dateAxis.positionToCoordinate(position);

    lineChart.cursor.triggerMove({ x: x, y: 0 }, "soft", true);
    lineChart.series.each(function(series) {
      if (!series.isHidden) {
        series.tooltip.disabled = false;
        series.showTooltipAtDataItem(series.tooltipDataItem);
      }
    })
  }


  // update total values in buttons
  function updateTotals(index) {
    if (!isNaN(index)) {
      var di = covid_total_timeline[index];
      var date = new Date(di.day);
      currentDate = date;

      var position = dateAxis.dateToPosition(date);
      position = dateAxis.toGlobalPosition(position);
      var x = dateAxis.positionToCoordinate(position);

      if (lineChart.cursor) {
        lineChart.cursor.triggerMove({ x: x, y: 0 }, "soft", true);
      }
      for (var key in buttons) {
        var count = Number(lineChart.data[index][key])
        if (!isNaN(count)) {
          var ph ="";
              switch(key){
                  case "totallocks":
                  ph = "[bold {color}]Total # Locks[/]";
                  break;
                  case "activelocks":

                  ph = "[bold {color}]Active # Locks[/]";
                  break;
                  case "expiredlocks":

                  ph = "[bold {color}]Expired # Locks[/]";
                  break;
                  case "totalswrv":

                  ph = "[bold {color}]Total SWRV[/]";
                  break;
                  case "activeswrv":

                  ph = "[bold {color}]Active SWRV[/]";
                  break;
                  case "expiredswrv":

                  ph = "[bold {color}]Expired SWRV[/]";
                  break;
                  case "totalveswrv":

                  ph = "[bold {color}]Total veSWRV[/]";
                  break;
                  case "activeveswrv":

                  ph = "[bold {color}]Active veSWRV[/]";
                  break;
                  case "expiredveswrv":

                  ph = "[bold {color}]Expired veSWRV[/]";
                  break;
                  default:
                  ph = key;
                  break;
                }
          buttons[key].label.text = ph + ": " + numberFormatter.format(count.toFixed(0), '#,###');
        }
      }
      currentIndex = index;
    }
  }


  // capitalize first letter
  function capitalizeFirstLetter(string) {
    return string.charAt(0).toUpperCase() + string.slice(1);
  }

  // set initial data and names
  changeDataType("activelocks");

  setTimeout(updateSeriesTooltip, 3000);

//END NEW TEST

  }); // end am4core.ready()
}); //end json grab
</script>

</head>

<body id="page-top">

  <!-- Page Wrapper -->
  <div id="wrapper">

    <!-- Sidebar -->
    <ul class="navbar-nav bg-gradient-dark sidebar sidebar-dark accordion" id="accordionSidebar">

      <!-- Sidebar - Brand -->
      <a class="sidebar-brand d-flex align-items-center justify-content-center" href="index.html">
        <div class="sidebar-brand-icon">
          <!--<i class="fas fa-laugh-wink"></i>-->
          <img src="img/SwerveSurf.png" width="100%">
        </div>
        <!--<div class="sidebar-brand-text mx-3"><sup>DeFI</sup></div>-->
      </a>

      <!-- Divider -->
      <hr class="sidebar-divider my-0">

      <!-- Nav Item - Dashboard -->
      <!--<li class="nav-item active">
        <a class="nav-link" href="index.html">
          <i class="fas fa-fw fa-tachometer-alt"></i>
          <span>Dashboard</span></a>
      </li>-->

      <!-- Divider -->
      <hr class="sidebar-divider">

      <!-- Heading -->
      <div class="sidebar-heading">
        Stats
      </div>


            <!-- Nav Item - Pools Collapse Menu -->
      <li class="nav-item">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTwo1" aria-expanded="true" aria-controls="collapseTwo1">
          <i class="fas fa-fw fa-chart-line"></i>
          <span>Dashboard</span>
        </a>
        <div id="collapseTwo1" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
          <div class="bg-dark py-2 collapse-inner rounded">
            <h6 class="collapse-header"><!--Select Pool:--></h6>
            <a class="collapse-item" href="index.html">Stats</a>
            <a class="collapse-item" href="browse.html">Browse</a>
          </div>
        </div>
      </li>

                  <!-- Nav Item - Pools Collapse Menu -->
      <li class="nav-item active">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapseTwo3" aria-expanded="true" aria-controls="collapseTwo3">
          <i class="fas fa-fw fa-lock"></i>
          <span>Vote-Locking</span>
        </a>
        <div id="collapseTwo3" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionSidebar">
          <div class="bg-dark py-2 collapse-inner rounded">
            <h6 class="collapse-header"><!--Select Pool:--></h6>
            <a class="collapse-item" href="#">Stats</a>
            <a class="collapse-item" href="#">Browse</a>
          </div>
        </div>
      </li>

      <!-- Divider -->
      <hr class="sidebar-divider">

      <!-- Heading -->
      <div class="sidebar-heading">
        Resources
      </div>

      <!-- Nav Item - Pages Collapse Menu -->
      <li class="nav-item">
        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapsePages" aria-expanded="true" aria-controls="collapsePages">
          <i class="fas fa-fw fa-folder"></i>
          <span>Official Links</span>
        </a>
        <div id="collapsePages" class="collapse" aria-labelledby="headingPages" data-parent="#accordionSidebar">
          <div class="bg-dark py-2 collapse-inner rounded">
            <!--<h6 class="collapse-header">Login Screens:</h6>-->
            <a class="collapse-item" href="https://swerve.fi" target="_blank">Website</a>
            <a class="collapse-item" href="https://gov.swerve.community/" target="_blank">Forum</a>
            <a class="collapse-item" href="https://snapshot.page/#/swerve" target="_blank">Snapshot Voting</a>
            <a class="collapse-item" href="https://github.com/SwerveFinance" target="_blank">GitHub</a>
           
            <div class="collapse-divider"></div>
            <h6 class="collapse-header">Social</h6>
            <a class="collapse-item" href="https://discord.gg/vkhw8Av" target="_blank">Discord</a>
            <a class="collapse-item" href="https://t.me/swervefi" target="_blank">Telegram</a>
            <a class="collapse-item" href="https://twitter.com/SwerveFinance" target="_blank">Twitter</a>

            <div class="collapse-divider"></div>
            <h6 class="collapse-header">Trade</h6>
            <a class="collapse-item" href="https://uniswap.info/token/0xb8baa0e4287890a5f79863ab62b7f175cecbd433" target="_blank">Uniswap</a>
            <a class="collapse-item" href="https://balancer.exchange/#/swap/0xb8baa0e4287890a5f79863ab62b7f175cecbd433" target="_blank">Balancer</a>
            <a class="collapse-item" href="https://www.huobi.com/en-us/exchange/?s=swrv_usdt" target="_blank">Huobi</a>
            <a class="collapse-item" href="https://www.bithumb.pro/en-us/exchange/professional?q=SWRV-USDT" target="_blank">Bitthumb</a>
            <a class="collapse-item" href="https://www.okex.com/markets/spot?product=swrv_usdt" target="_blank">OkEx</a>
            <a class="collapse-item" href="https://www.binance.com/en/trade/SWRV_BUSD?layout=pro" target="_blank">Binance</a>

          </div>
        </div>
      </li>


      <!-- Nav Item - Tables 
      <li class="nav-item">
        <a class="nav-link" href="tables.html">
          <i class="fas fa-fw fa-table"></i>
          <span>Tables</span></a>
      </li>-->

      <!-- Divider -->
      <hr class="sidebar-divider d-none d-md-block">

      <!-- Sidebar Toggler (Sidebar) -->
      <div class="text-center d-none d-md-inline">
        <button class="rounded-circle border-0" id="sidebarToggle"></button>
      </div>

    </ul>
    <!-- End of Sidebar -->

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

      <!-- Main Content -->
      <div id="content">

        <!-- Topbar -->
        <nav class="navbar navbar-expand navbar-light bg-dark topbar mb-4 static-top shadow" style="background-color: #141718 !important;">

          <!-- Sidebar Toggle (Topbar) -->
          <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
            <i class="fa fa-bars"></i>
          </button>

          <!-- Topbar Search 
          <form class="d-none d-sm-inline-block form-inline mr-auto ml-md-3 my-2 my-md-0 mw-100 navbar-search">
            <div class="input-group">
              <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
              <div class="input-group-append">
                <button class="btn btn-primary" type="button">
                  <i class="fas fa-search fa-sm"></i>
                </button>
              </div>
            </div>
          </form>-->

          <!-- Topbar Navbar -->
          <ul class="navbar-nav ml-auto">

            <!-- Nav Item - Search Dropdown (Visible Only XS) -->
            <li class="nav-item dropdown no-arrow d-sm-none">
              <a class="nav-link dropdown-toggle" href="#" id="searchDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-search fa-fw"></i>
              </a>
              <!-- Dropdown - Messages -->
              <div class="dropdown-menu dropdown-menu-right p-3 shadow animated--grow-in" aria-labelledby="searchDropdown">
                <form class="form-inline mr-auto w-100 navbar-search">
                  <div class="input-group">
                    <input type="text" class="form-control bg-light border-0 small" placeholder="Search for..." aria-label="Search" aria-describedby="basic-addon2">
                    <div class="input-group-append">
                      <button class="btn btn-primary" type="button">
                        <i class="fas fa-search fa-sm"></i>
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            </li>

            <!-- Nav Item - Alerts
            <li class="nav-item dropdown no-arrow mx-1">
              <a class="nav-link dropdown-toggle" href="#" id="alertsDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="fas fa-bell fa-fw"></i>
                 Counter - Alerts 
                <span class="badge badge-danger badge-counter">3+</span>
              </a>
               Dropdown - Alerts 
              <div class="dropdown-list dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="alertsDropdown">
                <h6 class="dropdown-header">
                  Alerts Center
                </h6>
                <a class="dropdown-item d-flex align-items-center" href="#">
                  <div class="mr-3">
                    <div class="icon-circle bg-primary">
                      <i class="fas fa-file-alt text-white"></i>
                    </div>
                  </div>
                  <div>
                    <div class="small text-gray-500">December 12, 2019</div>
                    <span class="font-weight-bold">A new monthly report is ready to download!</span>
                  </div>
                </a>
                <a class="dropdown-item d-flex align-items-center" href="#">
                  <div class="mr-3">
                    <div class="icon-circle bg-success">
                      <i class="fas fa-donate text-white"></i>
                    </div>
                  </div>
                  <div>
                    <div class="small text-gray-500">December 7, 2019</div>
                    $290.29 has been deposited into your account!
                  </div>
                </a>
                <a class="dropdown-item d-flex align-items-center" href="#">
                  <div class="mr-3">
                    <div class="icon-circle bg-warning">
                      <i class="fas fa-exclamation-triangle text-white"></i>
                    </div>
                  </div>
                  <div>
                    <div class="small text-gray-500">December 2, 2019</div>
                    Spending Alert: We've noticed unusually high spending for your account.
                  </div>
                </a>
                <a class="dropdown-item text-center small text-gray-500" href="#">Show All Alerts</a>
              </div>
            </li>-->

            <!-- Nav Item - Balances -->
            <li class="nav-item dropdown no-arrow">
              <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <img class="img-profile rounded-circle" src="img/swrv_32.png" style="display: none;" id="swrvimg">
                <span class="mr-2 d-none d-lg-inline text-gray-600 small" id="swrv"></span>
              </a>
            </li>

            <li class="nav-item dropdown no-arrow">
              <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <!--<img class="img-profile rounded-circle" src="img/swrv_32.png">-->
                <span class="mr-2 d-none d-lg-inline text-gray-600 small" id="swusd"></span>
              </a>
            </li>

            <li class="nav-item dropdown no-arrow">
              <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <!--<img class="img-profile rounded-circle" src="img/swrv_32.png">-->
                <span class="mr-2 d-none d-lg-inline text-gray-600 small" id="veswrv"></span>
              </a>
            </li>


            <div class="topbar-divider d-none d-sm-block"></div>

            <!-- Nav Item - User Information -->
            <li class="nav-item dropdown no-arrow">
              <a class="nav-link dropdown-toggle" href="#" id="loggedoutdrop" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <span class="mr-2 d-none d-lg-inline text-gray-600 small" id="walletaddr">Not Connected</span>
                <!--<img class="img-profile rounded-circle" src="https://source.unsplash.com/QAB-WJcbgJk/60x60">-->
                 <i class="fas fa-wallet text-gray-300"></i>
              </a>
              <!-- Dropdown - User Logged In
              <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" id="loggedin" aria-labelledby="loggedindrop">
                <a class="dropdown-item" href="#">
                  <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                  View on Etherscan
                </a>
                <a class="dropdown-item" href="#">
                  <i class="fas fa-cogs fa-sm fa-fw mr-2 text-gray-400"></i>
                  Settings
                </a>
                <a class="dropdown-item" href="#">
                  <i class="fas fa-list fa-sm fa-fw mr-2 text-gray-400"></i>
                  Change Wallet
                </a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">
                  <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                  Disconnect
                </a>
              </div>--> 
            </li>
          </ul>

        </nav>
        <!-- End of Topbar -->

<!-- Twitter <a href="https://twitter.com/intent/tweet?screen_name=98farhan94&ref_src=twsrc%5Etfw" class="twitter-mention-button" data-show-count="false">Tweet to @98farhan94</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>-->
        <!-- Begin Page Content -->
        <div class="container-fluid">

          <!-- Page Heading -->
          <div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 class="h3 mb-0 text-warning">Overview</h1>
            <a href="#" onclick="connectwallet();" class="d-none d-sm-inline-block btn btn-sm btn-warning shadow-sm" id="notconnected"><i class="fas fa-plug fa-sm text-dark"></i> &nbsp;<span class="text-dark">Connect Wallet</span></a>
            <a href="#" class="d-none d-sm-inline-block btn btn-sm btn-success shadow-sm" id="connected" style="display:none !important;"><i class="fas fa-check-circle fa-sm text-dark"></i> &nbsp;<span class="text-dark">Connected</span></a>
          </div>

          <!-- Content Row -->
          <div class="row">

            <!-- Earnings (Monthly) Card Example -->
            <div class="col-xl-3 col-md-6 mb-4">
              <div class="card bg-dark border-left-primary shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">Locks</div>
                      <div class="h5 mb-0 font-weight-bold text-white" id="totallocks">0</div>
                    </div>
                    <div class="col-auto">
                      <i class="fas fa-user-lock fa-2x text-gray-300"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Earnings (Monthly) Card Example -->
            <div class="col-xl-3 col-md-6 mb-4">
              <div class="card bg-dark border-left-success shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-success text-uppercase mb-1">SWRV Locked</div>
                      <div class="h5 mb-0 font-weight-bold text-white" id="swrvlocked">0</div>
                    </div>
                    <div class="col-auto">
                      <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Earnings (Monthly) Card Example -->
            <div class="col-xl-3 col-md-6 mb-4">
              <div class="card bg-dark border-left-info shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-info text-uppercase mb-1">Value Vote-Locked</div>
                      <div class="row no-gutters align-items-center">
                        <div class="col-auto">
                          <div class="h5 mb-0 mr-3 font-weight-bold text-white" id="valuelocked">0</div>
                        </div>
                        <div class="col">
                        <!--  <div class="progress progress-sm mr-2">
                            <div class="progress-bar bg-info" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                          </div>-->
                        </div>
                      </div>
                    </div>
                    <div class="col-auto">
                      <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Pending Requests Card Example -->
            <div class="col-xl-3 col-md-6 mb-4">
              <div class="card bg-dark border-left-warning shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">veSWRV</div>
                      <div class="h5 mb-0 font-weight-bold text-white" id="veswrvlocked">0</div>
                    </div>
                    <div class="col-auto">
                      <i class="fas fa-coins fa-2x text-gray-300"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Content Row Quorum -->
    	<div class="d-sm-flex align-items-center justify-content-between mb-4">
            <h1 class="h4 mb-0 text-dark">Quorum</h1>
          </div>

          <div class="row">

            <!-- Earnings (Monthly) Card Example -->
            <div class="col-xl-3 col-md-6 mb-4">
              <div class="card bg-dark border-left-primary shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">DeadWeight veSWRV</div>
                      <div class="h5 mb-0 font-weight-bold text-white" id="deadweight">0</div>
                      <sub>Mercenary veSWRV not participating in governance.</sub>
                    </div>
                    <div class="col-auto">
                      <i class="fas fa-users-slash fa-2x text-gray-300"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Earnings (Monthly) Card Example -->
            <div class="col-xl-3 col-md-6 mb-4">
              <div class="card bg-dark border-left-success shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-success text-uppercase mb-1">Active veSWRV</div>
                      <div class="h5 mb-0 font-weight-bold text-white" id="activeveswrv">0</div>
                      <sub>veSWRV excluding dead-weight.</sub>
                    </div>
                    <div class="col-auto">
                      <i class="fas fa-user-check fa-2x text-gray-300"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Earnings (Monthly) Card Example -->
            <div class="col-xl-3 col-md-6 mb-4">
              <div class="card bg-dark border-left-info shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-info text-uppercase mb-1">15% Quorum</div>
                      <div class="row no-gutters align-items-center">
                        <div class="col-auto">
                          <div class="h5 mb-0 mr-3 font-weight-bold text-white" id="quorum15">0</div>
                          <sub>Participation needed of active veSWRV.</sub>
                        </div>
                        <div class="col">
                        <!--  <div class="progress progress-sm mr-2">
                            <div class="progress-bar bg-info" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                          </div>-->
                        </div>
                      </div>
                    </div>
                    <div class="col-auto">
                      <i class="fas fa-flag-checkered fa-2x text-gray-300"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Pending Requests Card Example -->
            <div class="col-xl-3 col-md-6 mb-4">
              <div class="card bg-dark border-left-warning shadow h-100 py-2">
                <div class="card-body">
                  <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                      <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">30% Quorum</div>
                      <div class="h5 mb-0 font-weight-bold text-white" id="quorum30">0</div>
                      <sub>Participation needed of active veSWRV.</sub>
                    </div>
                    <div class="col-auto">
                      <i class="fas fa-flag-checkered fa-2x text-gray-300"></i>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Content Row -->

          <div class="row">

            <!-- Area Chart -->
            <div class="col-xl-12 col-lg-7">
              <div class="card bg-dark shadow mb-4">
                <!-- Card Header - Dropdown -->
                <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
                  <h6 class="m-0 font-weight-bold text-warning">Locks Over Time</h6>
                  <!--<div class="dropdown no-arrow">
                    <a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <i class="fas fa-ellipsis-v fa-sm fa-fw text-gray-400"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right shadow animated--fade-in" aria-labelledby="dropdownMenuLink">
                      <div class="dropdown-header">Dropdown Header:</div>
                      <a class="dropdown-item" href="#">Action</a>
                      <a class="dropdown-item" href="#">Another action</a>
                      <div class="dropdown-divider"></div>
                      <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                  </div>-->
                </div>
                <!-- Card Body -->
                <div class="card-body">
                  <div id="controls"></div>
                    <div id="mchart"></div>
                </div>
              </div>
            </div>
          </div>

          <!-- Content Row -->
          <div class="row">

            <!-- Content Column -->
            <div class="col-lg-6 mb-4">

              <!-- Project Card Example -->
              <div class="card bg-dark shadow mb-4">
                <div class="card-header py-3">
                  <h6 class="m-0 font-weight-bold text-warning">Distribution (All Locks)</h6>
                </div>
                <div class="card-body">
                  <div id="durationpie"></div>
                </div>
              </div>
            </div>

            <div class="col-lg-6 mb-4">

              <!-- Project Card Example -->
              <div class="card bg-dark shadow mb-4">
                <div class="card-header py-3">
                  <h6 class="m-0 font-weight-bold text-warning">Distribution (Active Locks)</h6>
                </div>
                <div class="card-body">
                  <div id="distribution_active"></div>
                </div>
              </div>
            </div>

            <div class="col-lg-6 mb-4">

              <!-- Project Card Example -->
              <div class="card bg-dark shadow mb-4">
                <div class="card-header py-3">
                  <h6 class="m-0 font-weight-bold text-warning">Top 10 Active Locks (SWRV)</h6>
                </div>
                <div class="card-body">
                  <div id="top20"></div>
                </div>
              </div>
            </div>

            <div class="col-lg-6 mb-4">
              <!-- Project Card Example -->
              <div class="card bg-dark shadow mb-4">
                <div class="card-header py-3">
                  <h6 class="m-0 font-weight-bold text-warning">Top 10 Active Locks (veSWRV)</h6>
                </div>
                <div class="card-body">
                  <div id="top10ve"></div>
                </div>
              </div>
            </div>

            <div class="col-lg-6 mb-4">

              <!-- Illustrations -->
              <div class="card bg-dark shadow mb-4">
                <div class="card-header py-3">
                  <h6 class="m-0 font-weight-bold text-warning">New Locks (Last 7 Days)</h6>
                </div>
                <div class="card-body">
                    <div id="nlchart"></div>
                </div>
              </div>
            </div>

            <div class="col-lg-6 mb-4">

              <!-- Illustrations -->
              <div class="card bg-dark shadow mb-4">
                <div class="card-header py-3">
                  <h6 class="m-0 font-weight-bold text-warning">SWRV Locks (Last 7 Days)</h6>
                </div>
                <div class="card-body">
                    <div id="wchart"></div>
                </div>
              </div>
            </div>
          </div>



                    <!-- Content Row -->
            <!-- Page Heading -->
      <!--<div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h2 class="h3 mb-0 text-light">Introducers</h2>

            </div>
          <div class="row">

            Content Column 
            <div class="col-lg-6 mb-4">-->

              <!-- Project Card Example 
              <div class="card bg-dark shadow mb-4">
                <div class="card-header py-3">
                  <h6 class="m-0 font-weight-bold text-warning">Number of Affiliates</h6>
                </div>
                <div class="card-body">
                  <div id="refs"></div>
                </div>
              </div>
        </div>

               <div class="col-lg-6 mb-4">-->

              <!-- Illustrations 
              <div class="card bg-dark shadow mb-4">
                <div class="card-header py-3">
                  <h6 class="m-0 font-weight-bold text-warning">Amount of ETH Referred</h6>
                </div>
                <div class="card-body">
                  <div id="refseth"></div>
                </div>
              </div>
            </div>

      </div>-->
      <!-- End of Main Content -->

      <!-- Footer -->
      <footer class="sticky-footer bg-dark">
        <div class="container my-auto">
          <div class="copyright text-center my-auto">
            <span>Copyright &copy; 2020 DeFi.SURF</span>
          </div>
        </div>
      </footer>
      <!-- End of Footer -->

    </div>
    <!-- End of Content Wrapper -->

  </div>
  <!-- End of Page Wrapper -->

  <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
  </a>

  <!-- Logout Modal-->
  <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
          <button class="close" type="button" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">Ã—</span>
          </button>
        </div>
        <div class="modal-body">Select "Logout" below if you are ready to end your current session.</div>
        <div class="modal-footer">
          <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
          <a class="btn btn-primary" href="login.html">Logout</a>
        </div>
      </div>
    </div>
  </div>


  <!-- Core plugin JavaScript-->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Custom scripts for all pages-->
  <script src="js/sb-admin-2.min.js"></script>
  <script src="js/web3.min.js"></script>
  <script src="js/web3modal.js"></script>
  <script type="text/javascript" src="https://unpkg.com/evm-chains/lib/index.js"></script>
  <script type="text/javascript" src="https://unpkg.com/@walletconnect/web3-provider@1.2.1/dist/umd/index.min.js"></script>
  <script type="text/javascript" src="https://unpkg.com/fortmatic@2.0.6/dist/fortmatic.js"></script>
  <script type="text/javascript" src="https://unpkg.com/ethavatar/dist/index.js"></script>
  <script type="text/javascript">
    async function connectwallet(){
    const Web3Modal = window.Web3Modal.default;
    const WalletConnectProvider = window.WalletConnectProvider.default;
    const EvmChains = window.EvmChains;
    const Fortmatic = window.Fortmatic;
    const providerOptions = {
    /* See Provider Options Section */
    walletconnect: {
      package: WalletConnectProvider,
      options: {
        // Mikko's test key - don't copy as your mileage may vary
        infuraId: "8043bb2cf99347b1bfadfb233c5325c0",
      }
    },

    fortmatic: {
      package: Fortmatic,
      options: {
        key: "pk_live_7F67A9DFADF7B921"
      }
    }
    };

    const web3Modal = new Web3Modal({
    network: "mainnet", // optional
    cacheProvider: true, // optional
    providerOptions, // required
    theme: "dark"
    });

    const provider = await web3Modal.connect();
    const web3 = new Web3(provider);
    console.log("Web3 instance is", web3);

    //account setup
    let selectedAccount;
      // Get connected chain id from Ethereum node
    const chainId = await web3.eth.getChainId();
    // Load chain information over an HTTP API
    const chainData = await EvmChains.getChain(chainId);
    //document.querySelector("#network-name").textContent = chainData.name;

    // Get list of accounts of the connected wallet
    const accounts = await web3.eth.getAccounts();

    // MetaMask does not give you all accounts, only the selected account
    console.log("Got accounts", accounts);
    selectedAccount = accounts[0];
    document.getElementById("walletaddr").innerHTML = "<span class='text-warning'>" + selectedAccount + "</span>";

    //get balances
    let swrv = "0xB8BAa0e4287890a5F79863aB62b7F175ceCbD433";
    let swusd = "0x77C6E4a580c0dCE4E5c7a17d0bc077188a83A059";
    let veswrv = "0xe5e7ddadd563018b0e692c1524b60b754fbd7f02";

    // The minimum ABI to get ERC20 Token balance
    let minABI = [
      // balanceOf
      {
        "constant":true,
        "inputs":[{"name":"_owner","type":"address"}],
        "name":"balanceOf",
        "outputs":[{"name":"balance","type":"uint256"}],
        "type":"function"
      },
      // decimals
      {
        "constant":true,
        "inputs":[],
        "name":"decimals",
        "outputs":[{"name":"","type":"uint8"}],
        "type":"function"
      }
    ];

    let contract = new web3.eth.Contract(minABI,swrv);
    async function getBalance(c) {
      contract.options.address = c;
      balance = await contract.methods.balanceOf(selectedAccount).call();
      return balance;
    }

    getBalance(swrv).then(function (result) {
    document.getElementById("swrv").innerHTML = ": <span class='text-white'>" + numberWithCommas((result/1000000000000000000).toFixed(2)) + "</span>";
    document.querySelector("#swrvimg").style.display = "block";
    document.querySelector("#connected").style.display = "block";
    document.querySelector("#notconnected").style.position = "absolute";
    document.querySelector("#notconnected").style.top = "-1000px";
    console.log("SWRV " + result);
    });

    getBalance(swusd).then(function (result) {
    document.getElementById("swusd").innerHTML = "swUSD: <span class='text-white'>" + numberWithCommas((result/1000000000000000000).toFixed(2)) + "</span>";
    console.log("swUSD " + result);
    });

    getBalance(veswrv).then(function (result) {
    document.getElementById("veswrv").innerHTML = "veSWRV: <span class='text-white'>" + numberWithCommas((result/1000000000000000000).toFixed(2)) + "</span>";
    console.log("veSWRV " + result);
    });

    }
  </script>

  <!-- Page level plugins -->
  <!--  <script src="vendor/chart.js/Chart.min.js"></script>-->

  <!-- Page level custom scripts -->
  <script>
    //http://pushservice.curve.fi/pools
  </script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-4795921-11"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-4795921-11');
</script>


</body>

</html>
